<section class="process-section" id="process">
    <div class="container">
        <div class="process-grid">
            <div class="process-content">
                <span class="caps fade-up">O Método</span>
                <h2 class="section-headline fade-up">Da Ideia à Realidade</h2>
                <div class="content-text fade-up">
                    <p>Acreditamos que cada projeto é uma jornada única. Por isso, acompanhamos cada fase com o máximo rigor, garantindo que o conceito inicial se materializa com precisão absoluta.</p>
                    <p>Através de maquetes físicas, renderizações 3D e desenhos técnicos rigorosos, permitimos-lhe visualizar e sentir o espaço muito antes de a primeira pedra ser colocada.</p>
                </div>
            </div>
            <div class="process-visual fade-up">
                <div class="video-wrapper">
                    {% if site.process_video.file %}
                        <video autoplay muted loop playsinline class="process-video">
                            <source src="{{ site.process_video.file }}" type="video/mp4">
                        </video>
                    {% elif site.process_video.external_url %}
                        <video autoplay muted loop playsinline class="process-video">
                            <source src="{{ site.process_video.external_url }}" type="video/mp4">
                        </video>
                    {% elif site.process_video.youtube_id %}
                        <div class="iframe-container">
                            <iframe src="https://www.youtube.com/embed/{{ site.process_video.youtube_id }}?autoplay=1&mute=1&loop=1&playlist={{ site.process_video.youtube_id }}&controls=0&showinfo=0&modestbranding=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                        </div>
                    {% else %}
                        <img src="/assets/img/house-placeholder.webp" alt="Arquitetura Minimalista" class="fallback-img">
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.process-section {
    padding: var(--spacing-xl) 0;
    background-color: var(--bg-color);
}

.process-grid {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: var(--spacing-lg);
    align-items: center;
}

.process-content {
    max-width: 500px;
}

.process-content .caps {
    display: block;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.process-visual {
    width: 100%;
}

.video-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;
    background: #eee;
    overflow: hidden;
    border-radius: 4px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.05);
}

.process-video, 
.video-wrapper img,
.iframe-container iframe {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.iframe-container {
    position: relative;
    width: 100%;
    height: 100%;
}

.iframe-container iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1.5); /* Hide borders/controls */
}

@media (max-width: 991px) {
    .process-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    .process-content {
        max-width: 100%;
        text-align: center;
        margin-bottom: 2rem;
    }
}
</style>
